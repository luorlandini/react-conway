(this["webpackJsonpreact-conway"]=this["webpackJsonpreact-conway"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),s=(n(11),n(1));var u=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])};n(12);var i=function(){var e="object"===typeof window,t=Object(a.useCallback)((function(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}),[e]),n=Object(a.useState)(t),r=Object(s.a)(n,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){if(!e)return!1;function n(){c(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[t,e]),o},l=n(2),f=function(e,t){return{x:e%t,y:Math.floor(e/t)}},d=function(e,t){var n=e.x;return e.y*t+n},m=function(e,t,n){return((e+t)%(a=n)+a)%a;var a},v=function(e,t,n,a,r){var o=a-t,c=r-n,s=Object(l.a)(e);return o>0?s=function(e,t,n,a){for(var r=a-t,o=1;o<=n;o++){var c=(o-1)*r,s=o*t;e.splice.apply(e,[c+s,0].concat(Object(l.a)(Array(r).fill(0))))}return e}(e,t,n,a):o<0&&(s=function(e,t,n,a){for(var r=Math.abs(a-t),o=1;o<=n;o++){var c=o*a;e.splice(c,r)}return e}(e,t,n,a)),c>0?s=function(e,t,n,a){var r=a-n;return[].concat(Object(l.a)(e),Object(l.a)(Array(r*t).fill(0)))}(s,a,n,r):c<0&&(s=function(e,t,n,a){return e.slice(0,t*a)}(s,a,0,r)),s},p=function(e,t,n,a,r){for(var o=e.x,c=e.y,u=r.distanceVec,i=Object(l.a)(t),f=0,v=u.length;f<v;f++)if(1===r.template[f]){var p=Object(s.a)(u[f],2),h=p[0],b=p[1];i[d({x:m(o,h,n),y:m(c,b,a)},n)]=r.template[f]}return i},h=function(e,t,n,a){for(var r=e.x,o=e.y,c=0,u=0,i=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];u<i.length;u++){var l=Object(s.a)(i[u],2),f=l[0],v=l[1],p=m(r,f,n),h=m(o,v,a);1===t[d({x:p,y:h},n)]&&(c+=1)}return c};function b(e,t,n){var r=Object(a.useState)(n),o=Object(s.a)(r,2),c=o[0],u=o[1],i=Object(a.useState)(!1),d=Object(s.a)(i,2),m=d[0],v=d[1];return[c,u,m,v,function(){for(var n=Object(l.a)(c),a=0,r=c.length;a<r;a++){var o=f(a,t),s=h(o,c,t,e);1===c[a]?(s<2||s>3)&&(n[a]=0):3===s&&(n[a]=1)}u(n),function(e){return e.every((function(e){return 0===e}))}(n)&&v(!1)}]}var w=n(5),g=function(e){for(var t=e.rows,n=e.cols,a=e.template,r=function(e){var t=e.rows,n=e.cols;return{x:Math.floor((n-1)/2),y:Math.floor((t-1)/2)}}({rows:t,cols:n}),o=r.x,c=r.y,s=Array(t*n),u=0,i=a.length;u<i;u++){var l=f(u,n),d=l.x,m=l.y;s[u]=[d-o,m-c]}return s},y=function(e){var t=function(e){for(var t=e.template,n=e.rows,a=e.cols,r=Array(n*a),o=0,c=a-1;c>=0;c--)for(var s=0;s<n;s++){var u=d({x:c,y:s},a);r[o]=t[u],o++}return{template:r,rows:a,cols:n}}(e);return Object(w.a)({},e,{},t,{distanceVec:g(t)})},j=[{name:"pixel",displayName:"Pixel",rows:1,cols:1,template:[1]},{name:"glider",displayName:"Glider",rows:3,cols:3,template:[0,1,0,0,0,1,1,1,1]},{name:"diehard",displayName:"Die Hard",rows:2,cols:8,template:[1,1,0,0,0,0,1,0,0,1,0,0,0,1,1,1]},{name:"rpentomino",displayName:"R-Pentomino",rows:3,cols:3,template:[0,1,1,1,1,0,0,1,0]},{name:"mwss",displayName:"Middle weight space ship",rows:5,cols:6,template:[0,0,0,1,0,0,0,1,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0]},{name:"hwss",displayName:"Heavy weight space ship",rows:5,cols:7,template:[0,0,0,1,1,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,0]},{name:"gospergun",displayName:"Gosper glider gun",rows:9,cols:36,template:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"greatonoff",displayName:"Great on-off",rows:8,cols:8,template:[0,0,1,1,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,0,0,0]},{name:"pufferfish",displayName:"Puffer fish",rows:12,cols:15,template:[0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,1,1,0,0,1,0,0,0,1,0,0,1,1,0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,1,1,0,0,0,0,1,0,1,0,0,0,0,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0]},{name:"puffsuppressor",displayName:"Puff suppressor",rows:25,cols:33,template:[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0,0,1,0,0,0,1,0,1,0,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,1,1,0,0,0,1,0,0,1,1,1,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,1,0,0,1,1,1,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,1,1,0,0,0,1,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0,0,1,0,0,0,1,0,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"nms",displayName:"Non monotonic spaceship",rows:11,cols:21,template:[0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,0,1,1,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,1,1,1,1,0,0,1,0,1,1,0,0,1,0,0,0,0,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,1,0,0,0,0,1,1,1,0,1,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,1,1,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,1,1,1,0,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0]}],E=function(e){var t=j.filter((function(t){return t.name===e}))[0];return t.distanceVec=g(t),t};function O(e){var t=e.onChange,n=e.selectedBrush;return r.a.createElement("select",{className:"select",value:n.name,onChange:t},j.map((function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.displayName)})))}function k(e){var t=e.advanceBoard,n=e.toggleIsRunning,o=e.isRunning,c=e.setIsRunning,s=e.setBoard,u=e.board,i=e.setSelectedBrushWrapper,f=e.selectedBrush,d=e.touchHoverClear,m=Object(a.useCallback)((function(e){"KeyE"!==e.code&&"click"!==e.type||(c(!1),s(Object(l.a)(u).fill(0)))}),[c,s,u]);Object(a.useEffect)((function(){return document.addEventListener("keydown",m,!1),function(){document.removeEventListener("keydown",m,!1)}}),[m]);var v=Object(a.useCallback)((function(e){"KeyW"!==e.code&&"click"!==e.type||(c(!1),t())}),[c,t]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",v,!1),function(){document.removeEventListener("keydown",v,!1)}}),[v]),r.a.createElement("div",{className:"controls"},r.a.createElement("button",{className:"button",onTouchStart:d,onClick:function(){c(!1),t()}},"Next ",r.a.createElement("span",{className:"button__shortcut"},"[",r.a.createElement("span",{className:"shift"},"\u21e7"),"+w]")),r.a.createElement("button",{className:"button",onTouchStart:d,onClick:n},o?"Stop ":"Start ",r.a.createElement("span",{className:"button__shortcut"},"[space]")),r.a.createElement("button",{className:"button",onTouchStart:d,onClick:m},"Reset",r.a.createElement("span",{className:"button__shortcut"},"[",r.a.createElement("span",{className:"shift"},"\u21e7"),"+e]")),r.a.createElement("button",{className:"button button--mobile",onClick:function(){i(y(f))}},"Rotate 90deg",r.a.createElement("span",{className:"button__shortcut"},"[",r.a.createElement("span",{className:"shift"},"\u21e7"),"+r]")),r.a.createElement(O,{onChange:function(e){i(E(e.target.value)),e.target.blur()},selectedBrush:f}),r.a.createElement("button",{className:"button button--desktop",onClick:function(){i(y(f))}},"Rotate 90deg",r.a.createElement("span",{className:"button__shortcut"},"[",r.a.createElement("span",{className:"shift"},"\u21e7"),"+r]")))}var N,C=function(e,t){return{x:Math.floor(e/16),y:Math.floor(t/16)}};function B(e){var t=e.board,n=e.windowSize,o=e.cols,c=e.rows,u=e.setBoard,i=e.setCols,l=e.setRows,m=e.brush,h=e.setHoverBoard,b=e.hoverBoard,w=e.seed,g=Object(a.useRef)(null),y=Object(a.useState)(null),j=Object(s.a)(y,2),E=j[0],O=j[1],k=function(e,t,n,a){var r=f(n,a),o=r.x,c=r.y;e.fillStyle=1===t?"#00adb5":"#393e46",e.fillRect(15*o+o,15*c+c,15,15)},B=function(e,t,n,a){if(1===t){var r=f(n,a),o=r.x,c=r.y;e.fillStyle="rgba(238, 238, 238, 0.3)",e.fillRect(15*o+o,15*c+c,15,15)}};Object(a.useEffect)((function(){var e=Math.floor((n.height+1)/16),a=Math.floor((n.width+1)/16);o===a&&c===e||(u(v(t,o,c,a,e)),l(e),i(a))})),Object(a.useEffect)((function(){var e=g.current.getContext("2d");!function(e){e.clearRect(0,0,n.width,n.height)}(e);for(var a=0,r=t.length;a<r;a++)k(e,t[a],a,o),B(e,b[a],a,o)}));var R=function(e,t,n){return d(C(e,t),n)};return r.a.createElement("canvas",{ref:g,width:n.width,height:n.height,onClick:function(e){var n=R(e.pageX,e.pageY,o),a=C(e.pageX,e.pageY);O(n),u(p(a,t,o,c,m))},onMouseLeave:function(){return h(w)},onTouchMove:function(e){N=C(e.touches[0].pageX,e.touches[0].pageY),h(p(N,w,o,c,m));var n=R(e.touches[0].pageX,e.touches[0].pageY,o);n!==E&&(O(n),u(p(N,t,o,c,m)))},onMouseMove:function(e){if(N=C(e.pageX,e.pageY),h(p(N,w,o,c,m)),1===e.buttons||3===e.buttons){var n=R(e.pageX,e.pageY,o);n!==E&&(O(n),u(p(N,t,o,c,m)))}},onMouseUp:function(e){O(null)}})}function R(e){var t=e.cols,n=e.rows,o=e.seed,c=e.windowSize,i=e.setRows,l=e.setCols,f=e.defaultBrush,d=b(n,t,o),m=Object(s.a)(d,2),v=m[0],h=m[1],w=b(n,t,o),j=Object(s.a)(w,5),E=j[0],O=j[1],C=j[2],R=j[3],S=j[4],x=Object(a.useState)(f),M=Object(s.a)(x,2),L=M[0],_=M[1];u(S,C?50:null);var H=Object(a.useCallback)((function(e){e.distanceVec=g(e),_(e)}),[_]),I=Object(a.useCallback)((function(e){32!==e.keyCode&&"click"!==e.type||R(!C)}),[C,R]),z=Object(a.useCallback)((function(){h(o)}),[h,o]);Object(a.useEffect)((function(){return document.addEventListener("keydown",I,!1),function(){document.removeEventListener("keydown",I,!1)}}),[I]);var W=Object(a.useCallback)((function(e){"KeyR"===e.code&&(H(y(L)),h(p(N,o,t,n,y(L))))}),[H,L,o,t,n,h]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",W,!1),function(){document.removeEventListener("keydown",W,!1)}}),[W]),r.a.createElement(a.Fragment,null,r.a.createElement(B,{board:E,brush:L,setBoard:O,windowSize:c,cols:t,setCols:l,setRows:i,rows:n,seed:o,setHoverBoard:h,hoverBoard:v}),r.a.createElement(k,{advanceBoard:S,toggleIsRunning:I,isRunning:C,setIsRunning:R,setBoard:O,board:E,touchHoverClear:z,setSelectedBrushWrapper:H,selectedBrush:L}))}var S=function(){var e=i(),t=E("glider"),n=Object(a.useState)(Math.floor((e.height+1)/16)),o=Object(s.a)(n,2),c=o[0],u=o[1],l=Object(a.useState)(Math.floor((e.width+1)/16)),f=Object(s.a)(l,2),d=f[0],m=f[1],v=Array(c*d).fill(0);return r.a.createElement(R,{rows:c,cols:d,seed:v,windowSize:e,setRows:u,setCols:m,defaultBrush:t})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.6f02f909.chunk.js.map