(this["webpackJsonpreact-conway"]=this["webpackJsonpreact-conway"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(4),c=n.n(o),s=(n(11),n(1));var i=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])};n(12);var u=function(){var e="object"===typeof window,t=Object(a.useCallback)((function(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}),[e]),n=Object(a.useState)(t),r=Object(s.a)(n,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){if(!e)return!1;function n(){c(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[t,e]),o},l=n(2),d=function(e,t){return{x:e%t,y:Math.floor(e/t)}},f=function(e,t){var n=e.x;return e.y*t+n},m=function(e,t,n){return((e+t)%(a=n)+a)%a;var a},v=function(e,t,n,a,r){var o=a-t,c=r-n,s=Object(l.a)(e);return o>0?s=function(e,t,n,a){for(var r=a-t,o=1;o<=n;o++){var c=(o-1)*r,s=o*t;e.splice.apply(e,[c+s,0].concat(Object(l.a)(Array(r).fill(0))))}return e}(e,t,n,a):o<0&&(s=function(e,t,n,a){for(var r=Math.abs(a-t),o=1;o<=n;o++){var c=o*a;e.splice(c,r)}return e}(e,t,n,a)),c>0?s=function(e,t,n,a){var r=a-n;return[].concat(Object(l.a)(e),Object(l.a)(Array(r*t).fill(0)))}(s,a,n,r):c<0&&(s=function(e,t,n,a){return e.slice(0,t*a)}(s,a,0,r)),s},h=function(e,t,n,a,r){for(var o=e.x,c=e.y,i=r.distanceVec,u=Object(l.a)(t),d=new Set,v=0,h=i.length;v<h;v++)if(1===r.template[v]){var p=Object(s.a)(i[v],2),b=p[0],w=p[1],y=f({x:m(o,b,n),y:m(c,w,a)},n);u[y]=r.template[v],d.add(y)}return{nBoard:u,paintedIndices:d}},p=function(e,t,n,a){for(var r=e.x,o=e.y,c=0,i=0,u=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];i<u.length;i++){var l=Object(s.a)(u[i],2),d=l[0],v=l[1],h=m(r,d,n),p=m(o,v,a);1===t[f({x:h,y:p},n)]&&(c+=1)}return c};function b(e,t,n){var r=Object(a.useState)(n),o=Object(s.a)(r,2),c=o[0],i=o[1],u=Object(a.useState)(!1),f=Object(s.a)(u,2),m=f[0],v=f[1];return[c,i,m,v,function(){for(var n=Object(l.a)(c),a=0,r=c.length;a<r;a++){var o=d(a,t),s=p(o,c,t,e);1===c[a]?(s<2||s>3)&&(n[a]=0):3===s&&(n[a]=1)}i(n),function(e){return e.every((function(e){return 0===e}))}(n)&&v(!1)}]}var w=n(5),y=function(e){for(var t=e.rows,n=e.cols,a=e.template,r=function(e){var t=e.rows,n=e.cols;return{x:Math.floor((n-1)/2),y:Math.floor((t-1)/2)}}({rows:t,cols:n}),o=r.x,c=r.y,s=Array(t*n),i=0,u=a.length;i<u;i++){var l=d(i,n),f=l.x,m=l.y;s[i]=[f-o,m-c]}return s},g=function(e){var t=function(e){for(var t=e.template,n=e.rows,a=e.cols,r=Array(n*a),o=0,c=a-1;c>=0;c--)for(var s=0;s<n;s++){var i=f({x:c,y:s},a);r[o]=t[i],o++}return{template:r,rows:a,cols:n}}(e);return Object(w.a)({},e,{},t,{distanceVec:y(t)})},j=[{name:"pixel",displayName:"Pixel",rows:1,cols:1,template:[1]},{name:"glider",displayName:"Glider",rows:3,cols:3,template:[0,1,0,0,0,1,1,1,1]},{name:"diehard",displayName:"Die Hard",rows:2,cols:8,template:[1,1,0,0,0,0,1,0,0,1,0,0,0,1,1,1]},{name:"rpentomino",displayName:"R-Pentomino",rows:3,cols:3,template:[0,1,1,1,1,0,0,1,0]},{name:"mwss",displayName:"Middle weight space ship",rows:5,cols:6,template:[0,0,0,1,0,0,0,1,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,0]},{name:"hwss",displayName:"Heavy weight space ship",rows:5,cols:7,template:[0,0,0,1,1,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,1,1,1,1,0]},{name:"gospergun",displayName:"Gosper glider gun",rows:9,cols:36,template:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,1,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"greatonoff",displayName:"Great on-off",rows:8,cols:8,template:[0,0,1,1,0,0,0,0,0,1,0,0,1,0,0,0,0,1,0,1,0,0,0,0,1,1,0,1,0,0,1,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,0,0,0]},{name:"pufferfish",displayName:"Puffer fish",rows:12,cols:15,template:[0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,1,1,0,0,1,0,0,0,1,0,0,1,1,0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,1,1,1,0,0,0,0,1,0,1,0,0,0,0,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0]},{name:"puffsuppressor",displayName:"Puff suppressor",rows:25,cols:33,template:[0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0,0,1,0,0,0,1,0,1,0,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,1,1,0,0,0,1,0,0,1,1,1,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,1,0,0,1,1,1,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,1,0,1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,1,1,1,0,0,0,1,0,0,1,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0,0,1,0,0,0,1,0,1,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1,1,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{name:"nms",displayName:"Non monotonic spaceship",rows:11,cols:21,template:[0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,0,1,1,1,0,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,1,1,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,1,1,1,1,0,0,1,0,1,1,0,0,1,0,0,0,0,1,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1,1,0,0,1,0,0,0,0,1,1,1,0,1,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,1,1,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0,0,0,0,0,1,1,1,0,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,0,0,0,0,0,0,0]}],E=function(e){var t=j.filter((function(t){return t.name===e}))[0];return t.distanceVec=y(t),t};function O(e){var t=e.onChange,n=e.selectedBrush;return r.a.createElement("select",{className:"select",value:n.name,onChange:t},j.map((function(e){return r.a.createElement("option",{key:e.name,value:e.name},e.displayName)})))}function S(e){var t=e.advanceBoard,n=e.toggleIsRunning,o=e.isRunning,c=e.setIsRunning,s=e.setBoard,i=e.board,u=e.setSelectedBrushWrapper,d=e.selectedBrush,f=e.touchHoverClear,m=e.setLastPaintedIndices,v=Object(a.useCallback)((function(e){"KeyE"!==e.code&&"click"!==e.type||(c(!1),s(Object(l.a)(i).fill(0)),m(new Set))}),[c,s,i,m]);Object(a.useEffect)((function(){return document.addEventListener("keydown",v,!1),function(){document.removeEventListener("keydown",v,!1)}}),[v]);var h=Object(a.useCallback)((function(e){"KeyW"!==e.code&&"click"!==e.type||(c(!1),t())}),[c,t]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",h,!1),function(){document.removeEventListener("keydown",h,!1)}}),[h]),r.a.createElement("div",{className:"controls"},r.a.createElement("button",{className:"button",onTouchStart:f,onClick:function(){c(!1),t()}},"Next ",r.a.createElement("span",{className:"button__shortcut"},"[",r.a.createElement("span",{className:"shift"},"\u21e7"),"+w]")),r.a.createElement("button",{className:"button",onTouchStart:f,onClick:n},o?"Stop ":"Start ",r.a.createElement("span",{className:"button__shortcut"},"[space]")),r.a.createElement("button",{className:"button",onTouchStart:f,onClick:v},"Reset",r.a.createElement("span",{className:"button__shortcut"},"[",r.a.createElement("span",{className:"shift"},"\u21e7"),"+e]")),r.a.createElement("button",{className:"button button--mobile",onClick:function(){u(g(d))}},"Rotate 90deg",r.a.createElement("span",{className:"button__shortcut"},"[",r.a.createElement("span",{className:"shift"},"\u21e7"),"+r]")),r.a.createElement(O,{onChange:function(e){u(E(e.target.value)),e.target.blur()},selectedBrush:d}),r.a.createElement("button",{className:"button button--desktop",onClick:function(){u(g(d))}},"Rotate 90deg",r.a.createElement("span",{className:"button__shortcut"},"[",r.a.createElement("span",{className:"shift"},"\u21e7"),"+r]")))}var k,N=function(e,t){return{x:Math.floor(e/16),y:Math.floor(t/16)}},B=function(e,t){var n=new Set,a=!0,r=!1,o=void 0;try{for(var c,s=t[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var i=c.value;e.has(i)&&n.add(i)}}catch(u){r=!0,o=u}finally{try{a||null==s.return||s.return()}finally{if(r)throw o}}return n};function I(e){var t=e.board,n=e.windowSize,o=e.cols,c=e.rows,s=e.setBoard,i=e.setCols,u=e.setRows,l=e.brush,f=e.setHoverBoard,m=e.hoverBoard,p=e.seed,b=e.lastPaintedHoverIndices,w=e.lastPaintedIndices,y=e.setLastPaintedHoverIndices,g=e.setLastPaintedIndices,j=e.isRunning,E=Object(a.useRef)(null),O=function(e,t,n,a){var r=d(n,a),o=r.x,c=r.y;e.fillStyle=1===t?"#00adb5":"#393e46",e.fillRect(15*o+o,15*c+c,15,15)},S=function(e,t,n,a){if(1===t&&(j||b.has(n))){var r=d(n,a),o=r.x,c=r.y;e.fillStyle=w.has(n)?"rgb(200,87,125)":"rgba(238, 238, 238, 0.3)",e.fillRect(15*o+o,15*c+c,15,15)}};return Object(a.useEffect)((function(){var e=Math.floor((n.height+1)/16),a=Math.floor((n.width+1)/16);o===a&&c===e||(s(v(t,o,c,a,e)),u(e),i(a))})),Object(a.useEffect)((function(){var e=E.current.getContext("2d");!function(e){e.clearRect(0,0,n.width,n.height)}(e);for(var a=0,r=t.length;a<r;a++)O(e,t[a],a,o),S(e,m[a],a,o)})),r.a.createElement("canvas",{ref:E,width:n.width,height:n.height,onClick:function(e){if(j||0===B(b,w).size){var n=N(e.pageX,e.pageY),a=h(n,t,o,c,l),r=a.nBoard,i=a.paintedIndices;g(j?new Set:i),s(r)}},onMouseLeave:function(){return f(p)},onTouchEnd:function(e){if(k=N(e.changedTouches[0].clientX,e.changedTouches[0].clientY),j||0===B(b,w).size){var n=h(k,t,o,c,l),a=n.nBoard,r=n.paintedIndices;g(j?new Set:r),s(a)}f(p),e.preventDefault()},onTouchMove:function(e){k=N(e.touches[0].clientX,e.touches[0].clientY);var n=h(k,p,o,c,l),a=n.nBoard,r=n.paintedIndices;if(y(r),y(j?new Set:r),f(a),l.template.length<17&&(j||0===B(b,w).size)){var i=h(k,t,o,c,l),u=i.nBoard,d=i.paintedIndices;g(j?new Set:d),s(u)}},onMouseMove:function(e){k=N(e.pageX,e.pageY);var n=h(k,p,o,c,l),a=n.nBoard,r=n.paintedIndices;if(y(j?new Set:r),f(a),(1===e.buttons||3===e.buttons)&&(j||0===B(b,w).size)){var i=h(k,t,o,c,l),u=i.nBoard,d=i.paintedIndices;g(j?new Set:d),s(u)}}})}function C(e){var t=e.cols,n=e.rows,o=e.seed,c=e.windowSize,u=e.setRows,l=e.setCols,d=e.defaultBrush,f=b(n,t,o),m=Object(s.a)(f,2),v=m[0],p=m[1],w=b(n,t,o),j=Object(s.a)(w,5),E=j[0],O=j[1],N=j[2],B=j[3],C=j[4],R=Object(a.useState)(d),x=Object(s.a)(R,2),L=x[0],M=x[1],P=Object(a.useState)(new Set),H=Object(s.a)(P,2),z=H[0],_=H[1],T=Object(a.useState)(new Set),W=Object(s.a)(T,2),A=W[0],V=W[1];i(C,N?50:null);var X=Object(a.useCallback)((function(e){e.distanceVec=y(e),M(e)}),[M]),Y=Object(a.useCallback)((function(e){32!==e.keyCode&&"click"!==e.type||B(!N)}),[N,B]),G=Object(a.useCallback)((function(){p(o)}),[p,o]);Object(a.useEffect)((function(){return document.addEventListener("keydown",Y,!1),function(){document.removeEventListener("keydown",Y,!1)}}),[Y]);var K=Object(a.useCallback)((function(e){if("KeyR"===e.code){X(g(L));var a=h(k,o,t,n,g(L)),r=a.nBoard,c=a.paintedIndices;V(c),p(r)}}),[X,L,o,t,n,p]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",K,!1),function(){document.removeEventListener("keydown",K,!1)}}),[K]),r.a.createElement(a.Fragment,null,r.a.createElement(I,{board:E,brush:L,setBoard:O,windowSize:c,cols:t,setCols:l,setRows:u,rows:n,seed:o,setHoverBoard:p,hoverBoard:v,lastPaintedIndices:z,setLastPaintedIndices:_,lastPaintedHoverIndices:A,isRunning:N,setLastPaintedHoverIndices:V}),r.a.createElement(S,{advanceBoard:C,toggleIsRunning:Y,isRunning:N,setIsRunning:B,setBoard:O,board:E,touchHoverClear:G,setSelectedBrushWrapper:X,selectedBrush:L,setLastPaintedIndices:_}))}var R=function(){var e=u(),t=E("glider"),n=Object(a.useState)(Math.floor((e.height+1)/16)),o=Object(s.a)(n,2),c=o[0],i=o[1],l=Object(a.useState)(Math.floor((e.width+1)/16)),d=Object(s.a)(l,2),f=d[0],m=d[1],v=Array(c*f).fill(0);return r.a.createElement(C,{rows:c,cols:f,seed:v,windowSize:e,setRows:i,setCols:m,defaultBrush:t})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.c0345054.chunk.js.map